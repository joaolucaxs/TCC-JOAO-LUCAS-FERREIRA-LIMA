<!DOCTYPE html>
<html lang="pt-br" xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org">

<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
	<link rel="stylesheet" href="/css/style.css">
	<title>Criar Apresentação</title>

</head>

<body>

	<div class="painel">
		<h1 class="text-center my-3">Criar Apresentação</h1>
		<div class="d-flex justify-content-center align-items-center h-100">
			<img th:src="@{/imgs/invisibleBackground.jpg}" class="p-3 img-fluid" id="imagem-capa" alt="Imagem da Capa">
		</div>
		<form class="d-flex flex-column align-items-center needs-validation"
			th:action="@{/apresentacoes/criarApresentacao}" method="post" enctype="multipart/form-data"
			id="formApresentacao" novalidate>

			<div class="col-md-6">
				<div class="mb-3">
					<label for="validationServerImagemApresentacao" class="form-label"><b>Imagem da Capa </b><abbr
							class="text-danger" title="Obrigatório">*</abbr></label>
					<input type="file" id="validationServerImagemApresentacao" class="form-control"
						data-browse="Escolha a imagem" aria-label="file example" name="imagemApresentacaoFile" accept="image/*"
						required>
					<div class="invalid-feedback">Imagem de Capa Obrigatória.</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="mb-3">
					<label for="validationServerTitulo" class="form-label"><b>Título da Apresentação </b><abbr
							class="text-danger" title="Obrigatório">*</abbr></label>
					<input type="text" class="form-control" id="validationServerTitulo" name="tituloApresentacao"
						placeholder="Titulo da Apresentação"
						aria-describedby="inputGroupPrepend3 validationServerTituloFeedBack" required>
					<div id="validationServerTituloFeedBack" class="invalid-feedback">
						Titulo da Apresentação Obrigatório.
					</div>
				</div>
			</div>

			<div class="col-md-6">
				<div class="mb-3">
					<label for="validationServerDescricao" class="form-label"><b>Descrição da Apresentação</b><abbr
							class="text-danger" title="Obrigatório">*</abbr></label>
					<textarea class="form-control" id="validationServerDescricao" name="descricaoApresentacao"
						placeholder="Descrição da Peça"
						aria-describedby="inputGroupPrepend3 validationServerDescricaoFeedBack" required rows="4">
					</textarea>
					<div id="validationServerDescricaoFeedBack" class="invalid-feedback">
						Descrição da Apresentação Obrigatório.
					</div>
				</div>
			</div>
			<div class="col">
				<div class="mt-4">
					<a class="btn btn-danger mb-3 " href="/apresentacoes" role="button">Cancelar</a>
					<button class="btn btn-primary mb-3 ms-2" type="submit" id="montarApresentacao">Montar
						Apresentação</button>
				</div>
			</div>
		</form>

	</div>

	<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
		integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.min.js"
		integrity="sha384-Rx+T1VzGupg4BHQYs2gCW9It+akI2MM/mndMCy36UVfodzcJcF0GGLxZIzObiEfa"
		crossorigin="anonymous"></script>

	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const imageInput = document.getElementById("validationServerImagemApresentacao");
			const previewImage = document.getElementById("imagem-capa");
			const oldImageUrl = previewImage.src;

			imageInput.addEventListener("change", function () {
				const file = imageInput.files[0];

				if (file) {
					const reader = new FileReader();
					reader.onload = function (event) {
						previewImage.src = event.target.result;
						previewImage.style.display = "block";
					};
					reader.readAsDataURL(file);
				} else {
					previewImage.src = oldImageUrl;
					previewImage.style.display = "block";
				}
			});

			const uploadForm = document.getElementById("uploadForm");
			uploadForm.addEventListener("submit", function (event) {
				event.preventDefault();
			});
		});
	</script>

	<script>
		(() => {
			'use strict'

			const forms = document.querySelectorAll('.needs-validation')

			Array.from(forms).forEach(form => {
				form.addEventListener('submit', event => {
					if (!form.checkValidity()) {
						event.preventDefault()
						event.stopPropagation()
					}

					form.classList.add('was-validated')
				}, false)
			})
		})()
	</script>


</body>

</html>